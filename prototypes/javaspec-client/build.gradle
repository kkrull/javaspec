//Code that uses JavaSpec's API to write specs
plugins {
  id 'java'
}

group 'info.javaspec'
version '0.0.1'

dependencies {
  testImplementation project(':javaspec-api')
  testRuntimeOnly project(':javaspec-engine')
  testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.7.0'
}

repositories {
  mavenCentral()
}

test {
  useJUnitPlatform {
    includeEngines 'javaspec-engine'
  }

  beforeTest { descriptor ->
    logger.lifecycle('Running test: ' + descriptor)
  }

  include '**/*Specs*'

  onOutput { descriptor, event ->
    logger.lifecycle('Test: ' + descriptor + ' produced standard out/err: ' + event.message)
  }

  testLogging.showStandardStreams = true
}
