//Conventions for formatting Java sources
plugins {
	id 'java'
	id 'com.diffplug.spotless'
}

interface JavaFormatPluginExtension {
	RegularFileProperty getEclipseConfigFile()
}

def extension = project.extensions.create('javaspecJavaFormat', JavaFormatPluginExtension)
task('greet') {
	doLast {
		println "Configuration file: ${extension.eclipseConfigFile.get()}"
	}
}

//https://github.com/diffplug/spotless/tree/main/plugin-gradle#java
spotless {
	java {
		removeUnusedImports()
		importOrder()
		eclipse().configFile(extension.eclipseConfigFile.get())
	}
}
