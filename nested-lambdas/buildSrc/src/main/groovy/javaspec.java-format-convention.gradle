//Conventions for formatting Java sources
plugins {
	id 'java'
	id 'com.diffplug.spotless'
}

interface JavaFormatPluginExtension {
	Property<String> getMessage()
}

def extension = project.extensions.create('javaspecJavaFormat', JavaFormatPluginExtension)
task('greet') {
	doLast {
		println "Configuration message: ${extension.message.get()}"
	}
}

//https://github.com/diffplug/spotless/tree/main/plugin-gradle#java
spotless {
	java {
		removeUnusedImports()
		importOrder()
		eclipse().configFile('../etc/eclipse-format.xml') //TODO KDK: Pass in as configuration to maintain project-specific configuration
	}
}
